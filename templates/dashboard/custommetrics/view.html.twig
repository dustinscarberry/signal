{% extends 'dashboard/dashboardbase.html.twig' %}

{% block panel %}

<div class="dashboard-subheader">
  <div class="container-fluid container-fixed-lg">
    <div class="row">
      <div class="col-lg-12">
        <div class="breadcrumb-container">
          <span class="breadcrumb">Custom Metrics</span>
        </div>
        <a class="action-btn btn btn-primary pull-right" href="/dashboard/incidents/add">Add Custom Metric</a>
      </div>
    </div>
  </div>
</div>
<div class="dashboard-panels">
  <div class="container-fluid container-fixed-lg">
    <div class="row">
      <div class="col-lg-12">
        <div class="dashboard-panel-block">
          <div id="incident-view-list" class="table-list">

            {% for metric in metrics %}
              <div class="list-item" data-id="{{ metric.guid }}">
                <div class="list-item-left">
                  <div class="list-item-decoration">
                  </div>
                  <div class="list-item-content">
                    <span class="list-item-title">{{ metric.name }}</span>
                    <span class="list-item-createdby">{{ metric.createdBy.fullName }}</span>
                  </div>
                </div>
                <div class="list-item-right">
                  <a class="btn btn-primary" href="/dashboard/custommetrics/{{ metric.guid }}">Update</a>
                  <button class="btn btn-error btn-delete">Delete</button>
                </div>
              </div>
            {% endfor %}

            {% if metrics is empty %}
              <span class="empty-list">No metrics available</span>
            {% endif %}

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
