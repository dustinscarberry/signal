{% extends 'dashboard/dashboardbase.html.twig' %}

{% block panel %}

<div class="dashboard-subheader">
  <div class="container-fluid container-fixed-lg">
    <div class="row">
      <div class="col-lg-12">
        <div class="breadcrumb-container">
          <span class="breadcrumb">Maintenance</span>
        </div>
        <a class="action-btn btn btn-primary pull-right" href="/dashboard/maintenance/add">Add Maintenance</a>
      </div>
    </div>
  </div>
</div>
<div class="dashboard-panels">
  <div class="container-fluid container-fixed-lg">
    <div class="row">
      <div class="col-lg-12">
        <div class="dashboard-panel-block">
          <div id="maintenance-view-list" class="table-list">

            {% for record in maintenance %}
              <div class="list-item" data-id="{{ record.guid }}">
                <div class="list-item-left">
                  <div class="list-item-decoration">
                    <i class="list-item-icon status-icon status-icon-{{ record.status.type }}"></i>
                  </div>
                  <div class="list-item-content">
                    <span class="list-item-title">{{ record.name }}</span>
                    <span class="list-item-createdby">{{ record.createdBy.fullName }}</span>
                    <span class="list-item-description ellipsis-3">{{ record.purpose }}</span>
                  </div>
                </div>
                <div class="list-item-right">
                  <a class="btn btn-primary" href="/dashboard/maintenance/{{ record.guid }}">Update</a>
                  <button class="btn btn-error btn-delete">Delete</button>
                </div>
              </div>
            {% endfor %}

            {% if maintenance is empty %}
              <span class="empty-list">Nothing scheduled</span>
            {% endif %}

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
